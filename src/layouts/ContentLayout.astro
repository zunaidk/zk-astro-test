---
import BaseLayout from './BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const { frontmatter = {} } = Astro.props;

// Get values with defaults
const title = frontmatter.title || 'Untitled Page';
const description = frontmatter.description || '';
const image = frontmatter.image;

// Prepare SEO props from frontmatter
const baseProps = {
  title,
  description,
  image,
  openGraph: frontmatter.seo?.openGraph ? {
    title: frontmatter.seo.openGraph.title || title,
    description: frontmatter.seo.openGraph.description || description,
    image: frontmatter.seo.openGraph.image || image,
  } : undefined,
  twitter: frontmatter.seo?.twitter ? {
    title: frontmatter.seo.twitter.title || title,
    description: frontmatter.seo.twitter.description || description,
    image: frontmatter.seo.twitter.image || image,
  } : undefined,
  canonicalUrl: frontmatter.seo?.canonicalUrl,
  robots: frontmatter.seo?.robots,
};
---

<BaseLayout {...baseProps}>
  <Header />
  <main id="main-content" class="bg-surface">
    <article class="py-12 md:py-16">
      <div class="container">
        <div class="max-w-3xl mx-auto prose prose-lg">
          <slot />
        </div>
      </div>
    </article>
  </main>
  <Footer />
</BaseLayout>
